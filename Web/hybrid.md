# Hybrid Rendering

## Next.js에서 제공하는 하이브리드 웹앱에 대해서 알아보자.
**먼저 하이브리드는 무엇일까?**

<aside>
💡 Hybrid : 혼합
특정 목적을 달성하기 위해 두 개 이상(이중성)의 기능이나 요소를 결합
</aside>

그렇다면 웹앱을 만들 때 가장 중요한 목적이 무엇일까?
바로 성능 좋은 강력한 웹앱일 것이다.
그렇다면 두 개 이상 기능이나 요소를 결합했다는 것은 무슨 뜻일까?
단 하나의 랜더링 방식을 사용하는 것이 아니라 CSR, SSG, ISR, SSR 중 두 개 이상을 혼합해서 성능 좋은 강력한 웹앱을 만들어내는 방식이다.

예를 들면 하나의 홈페이지를 만든다고 생각해보자.
- 홈페이지 - ISR 
→ 원하는 주기로 주기적으로 업데이트할 수 있도록
- ABOUT - SSG 
→ 내용이 잘 변경되지 않기 때문에
- 프로필 - SSR / CSR
→ 적절히 섞어서 하이브리드로 만들기
- CONTACT - CSR

→ 이처럼 하나의 웹앱을 만들 때 한 가지 방식으로만 랜더링하는 것이 아니라 각각의 페이지의 특징에 따라서 그에 적합한 최적화 랜더링 방식을 적용시키는 것이다.
또한 한 페이지 내에서도 페이지 부분별로 SSR / CSR 등 혼합해서 사용할 수 있다.

## Hydration for interaction

next에서 하이브리드가 가능하게 하는 것은 hydration이다.
그렇다면 hydration은 무엇일까?

<aside>
💡 Hydration: 수화시키다
</aside>

클라이언트가 페이지를 요청하면 next는 필요한 것들을 받아와서 페이지를 랜더링하는데 여기에서 이 페이지는 정적인 html 페이지이다.

이것을 프리 랜더링이라고도 말한다.
사용자가 빠르게 먼저 볼 수 있도록 프리 랜더링된 html을 클라이언트에게 보내준다.
그러나 이 페이지에는 아직 자바스크립트 코드가 포함되지 않았기 때문에 사용자는 페이지를 볼 수는 있으나  여기저기 클릭을 해도 아무런 반응이 일어나지 않는다.
그 다음에 이 페이지에서 필요한 리액트와 자바스크립트 코드를 넘겨준다.
그렇게 되면 이 정적이었던 html 페이지에 리액트로 가득 채우게 hydration 하게 된다.
즉, 컴포넌트로 랜더링이 발생한다.

이전까지는 정적인 html 이었다면 그 위에 실제 동적인 컴포넌트들이 얹어져서 클릭을 해도 그에 맞는 로직들이 실행되게 되는 것이다.

한줄로 정리를 해보자면,
서버에서는 사용자에게 먼저 빠르게 정적인 html 페이지를 랜더링한 후에 페이지에서 인터렉션 처리를 위해 필요한 리액트와 자바스크립트 코드를 보내주고, 클라이언트 측에서 리액트와 자바스크립트 소스 코드를 모두 다운받으면 hydration, 컴포넌트 랜더링을 해서 정적인 html 대신에 실제 컴포넌트를 사용하게 한다.
