## CSR : Client Side Redering

리액트 만을 사용했을 때 CSR을 하게 된다.

### CSR은 무엇일까?

사용자가 웹어플리케이션에 접속했을 때, 즉각적으로 html을 보는 것이 아니라 우리가 작성한 JavaScript, React 라이브러리 코드를 다운받은 후 화면에 UI가 표기되기 때문에 클라이언트 측에서 랜더링이 된다.

즉, bundle.js 파일이 없다면 제대로 랜더링이 되지 않고 SEO 적용이 어렵다. 또한 번들링된 js 파일의 용량이 크면 클수록 초기 로딩 속도가 오래 걸린다. 그렇지만 첫 로딩만 완료되면 다음 랜더링에는 지연시간이 발생하지 않는다.

직접 CSR로 확인해보면 첫 페이지 요청으로 받아온 HTML 문서 내용을 확인해보면 우리가 app.js에 적어둔 내용이 하나도 들어가지 않고 id가 root인 텅 비어있는 div 태그만 반환하고 잇는 것을 확인할 수 있다.

그리고 밑에 번들링된 static/js 경로의 bundle.js 파일을 전달하고 있다.

즉, 일단 빈 html 문서를 먼저 반환하고 그 후에 리액트 컴포넌트들을 번들링하여 전달하고 브라우저는 해당 js 파일을 번달받은 이후에 유저에게 보여줄 화면만 랜더링 하는 것이다.

결국 우리가 아무리 복잡한 코드를 작성하여 구성하더라도 CSR에서 처음 로딩되는 html 문서는 빈페이지일 수 밖에 없다. 그러므로 SEO에 약할 수밖에 없다. 왜냐? CSR 방식에서는 번들링된 js 파일을 전달 받아야만 정상적인 랜더링이 가능하기 때문이다.

### **+) SEO 검색 엔진 최적화란 무엇일까?**

웹사이트가 무료 검색 방식을 통해 검색 엔진에서 상위에 노출될 수 있도록 최적화하는 과정을 말한다.

비즈니스 유형이 어떤 것이든 SEO는 가장 중요한 마케팅 유형 중 하나이다.

**그렇다면 SEO는 어떻게 이루어질까?**

검색 엔진은 웹페이지가 어떤 콘텐츠를 가지고 있는지, 해당 페이지가 무엇인지 판단하기 위해 인터넷을 통하여 웹페이지를 크롤링하는 로봇인 웹 크롤러를 사용한다. 웹 크롤러는 코드를 스캔하여 웹페이지에 표시되는 텍스트, 이미지, 동영상 등을 수집하여 가능한 모든 정보를 얻어 수집한 후 해당 내용이 검색자에게 유용하다고 판단이 되면 해당 페이지에 색인을 추가한다.

**그렇다면 검색 엔진 최적화를 위한 작업에는 무엇이 있을까?**

- 메타 태그 Meta Tag
  - <title>
      - 웹페이지를 검색 엔진에 검색했을 때 노출되는 제목
      → title 요소를 정의할 때는 너무 긴 텍스트를 사용하거나 모든 웹페이지의 title에 단일한 제목을 사용하지 않도록 유의해야 한다.
  - <description>
      - 해당 웹페이지의 설명을 요약한 한 두 줄의 문장
  - <robots>
      - 웹페이지 별 검색 로봇의 접근 여부를 설정할 때 활용
  - <canonical>
      - 해당 페이지의 대표 URL을 설정하는 태그
- 오픈 그래프 Open Graph 태그
  - og:title: 웹페이지 제목
  - og:description: 웹페이지 상세 설명
  - og:image: 웹페이지 카드에 나타내는 썸네일
    → 주로 권장되는 사이즈는 1200x630
  - og:type: 웹페이지 유형
  - og:url: 웹페이지 주소

### 그렇다면 SSG/R은 무엇일까?

여기에서 React와 함께 Gatsby / Next.JS와 같은 프레임워크를 사용하게 되면 SSG/R이 이루어진다.

**Static Site Generation / Server Side Rendering**

즉, 서버에서 랜더링되어 브라우저, 클라이언트에게 전달이 된다. 따라서 초기 로딩 속도가 CSR보다 빠르다.

내용이 적용된 html 문서가 서버로 내려오기 때문에 SEO 적용이 쉽다.

그리고 js 파일을 받지 않아도 기본적인 마크업 구조가 유지된다는 장점이 있다.

- Static-Generation : HTML을 빌드 타임에 각 페이지별로 생성하고 해당 페이지로 요청이 올 경우 이미 생성된 HTML 문서를 반환한다.
  → Next.JS에서 권고하고 있다
- Server-Side-Rendering : 요청이 올 때 마다 해당하는 HTML 문서를 그때 그때 생성하여 반환한다.
